<div class="settings-widget profile-details">
  <div class="settings-menu p-0">
    <div class="profile-heading">
      <h3>Profile Details</h3>
      <p>
        Lorem ipsum, dolor sit amet consectetur adipisicing elit.
      </p>
    </div>
    <div class="course-group mb-0 d-flex">
      <div class="course-group-img d-flex align-items-center">
        <div>
          <img
            src="{{ user?.imagePath }}"
            alt=""
            class="img-fluid m-3"
            id="photo"
          />
        </div>
        <div class="course-name">
          <h4>
            <div>Your avatar</div>
          </h4>
          <p>PNG or JPG no bigger than 800px wide and tall.</p>
        </div>
      </div>
      <div class="profile-share d-flex align-items-center justify-content-center">
        <input
          type="file"
          name="filephoto"
          id="file"
          (change)="displaySelectedImage($event)"
          style="display: none;"
        />
        <label for="file" id="uploadbtn">
          <i class="bi bi-camera"></i>
        </label>
      </div>
    </div>
    <div class="checkout-form personal-address add-course-info">
      <div class="personal-info-head">
        <h4>Personal Details</h4>
        <p>Edit your personal information and address.</p>
      </div>
      <form (ngSubmit)="updateProfileMe()" [formGroup]="profileForm" *ngIf="user">
        <div class="row">
          <div class="col-lg-6">
            <div class="form-group">
              <label class="form-control-label">First Name</label>
              <input
                type="text"
                class="form-control"
                placeholder="Enter your first name"
                formControlName="first_name"
              />
              <div
                *ngIf="profileForm.get('first_name')?.invalid && profileForm.get('first_name')?.touched"
                class="alert alert-danger"
              >
                First Name is required.
              </div>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="form-group">
              <label class="form-control-label">Last Name</label>
              <input
                type="text"
                class="form-control"
                placeholder="Enter your last name"
                formControlName="last_name"
              />
              <div
                *ngIf="profileForm.get('last_name')?.invalid && profileForm.get('last_name')?.touched"
                class="alert alert-danger"
              >
                Last Name is required.
              </div>
            </div>
          </div>

          <div class="col-lg-6" *ngIf="user.role != 'admin'">
            <div class="form-group">
              <label class="form-control-label">Full Name</label>
              <input
                type="text"
                class="form-control"
                placeholder="Enter your full name"
                formControlName="full_name"
              />
            </div>
          </div>

          <div class="col-lg-6" *ngIf="user.role != 'admin'">
            <div class="form-group">
              <label class="form-control-label">Birth Date</label>
              <input
                type="date"
                class="form-control"
                formControlName="birth_date"
              />
              <div
                *ngIf="profileForm.get('birth_date')?.invalid && profileForm.get('birth_date')?.touched"
                class="alert alert-danger"
              >
                Birth Date is required.
              </div>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="form-group">
              <label class="form-control-label">Email</label>
              <input
                type="email"
                class="form-control readonly-input"
                placeholder="Enter your email"
                name="email"
                readonly
                [value]="user.email"
              />
            </div>
          </div>

          <div class="col-lg-6" *ngIf="user.role !== 'admin'">
            <div class="form-group">
              <label class="form-control-label">Country</label>
              <select class="form-control" formControlName="country">
                <option value="">Select Country</option>
                <option *ngFor="let country of Country" [value]="country">{{ country }}</option>
              </select>
              <div *ngIf="profileForm.get('country')?.invalid && profileForm.get('country')?.touched" class="text-danger">
                Country is required
              </div>
            </div>
          </div>


          <div class="col-lg-6" *ngIf="user.role != 'admin'">
            <div class="form-group">
              <label class="form-control-label">Address</label>
              <input
                type="text"
                class="form-control"
                placeholder="Enter your address"
                formControlName="address"
              />
            </div>
          </div>

          <div class="col-lg-6" *ngIf="user.role != 'admin'">
            <div class="form-group">
              <label class="form-control-label">University</label>
              <input
                type="text"
                class="form-control"
                placeholder="Enter your university"
                formControlName="university"
              />
            </div>
          </div>

          <div class="col-lg-6" *ngIf="user.role != 'admin'">
            <div class="form-group">
              <label class="form-control-label">Faculty</label>
              <input
                type="text"
                class="form-control"
                placeholder="Enter your faculty"
                formControlName="faculty"
              />
            </div>
          </div>

          <div class="col-lg-6" *ngIf="user.role != 'admin'">
            <div class="form-group">
              <label class="form-control-label">Department</label>
              <input
                type="text"
                class="form-control"
                placeholder="Enter your department"
                formControlName="department"
              />
            </div>
          </div>

          <div class="update-profile">
            <button
              type="submit"
              class="btn btn-primary"
              [disabled]="profileForm.invalid"
            >
              Update Profile
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
